<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages
    // This script takes the current URL and converts the path and query
    // string into just a query string, and then redirects the browser
    // to the new URL with only a query string and hash fragment.

    // Parse the URL
    var pathSegmentsToKeep = 0;
    var l = window.location;
    
    // Extract the language code from the URL if present
    var pathArray = l.pathname.split('/');
    var languageCode = '';
    
    // Check if the first segment is a language code
    var possibleLanguageCodes = ['en', 'es', 'fr', 'de', 'pl', 'pt', 'ru', 'ar', 'zh-TW', 'ja', 'ko', 'vi', 'th', 'hi'];
    if (pathArray.length > 1 && possibleLanguageCodes.includes(pathArray[1])) {
      // Keep the language code
      languageCode = '/' + pathArray[1];
      // Remove the language code from the path for the redirect
      pathArray.splice(1, 1);
    } else {
      // Default to English if no language code is present
      languageCode = '/en';
    }

    var url = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '');
    
    // Construct the redirect URL
    url += languageCode + '/#';
    
    // Add the remaining path
    url += pathArray.slice(1).join('/');
    
    // Add query string
    url += l.search;
    
    // Redirect to the new URL
    window.location.href = url;
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
  <p>If you are not redirected automatically, <a href="/">click here</a>.</p>
</body>
</html>